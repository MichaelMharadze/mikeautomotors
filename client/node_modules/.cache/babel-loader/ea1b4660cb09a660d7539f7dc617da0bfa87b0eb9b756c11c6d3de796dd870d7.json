{"ast":null,"code":"// Updated Admin Login + Security Setup\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{FaCar,FaPlusCircle}from'react-icons/fa';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const navigate=useNavigate();const[isAuthorized,setIsAuthorized]=useState(false);useEffect(()=>{const token=localStorage.getItem('adminToken');if(!token){navigate('/admin-login');}else{// Optional: validate token with backend\naxios.post('http://localhost:5000/api/admin/verify',{token}).then(res=>{if(res.data.valid)setIsAuthorized(true);else navigate('/admin-login');}).catch(()=>navigate('/admin-login'));}},[navigate]);const handleLogout=()=>{localStorage.removeItem('adminToken');navigate('/admin-login');};if(!isAuthorized)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",style:{fontFamily:'Poppins, sans-serif',maxWidth:'1000px',margin:'40px auto',padding:'2rem',backgroundColor:'#f9f9f9',borderRadius:'10px',boxShadow:'0 0 20px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{color:'#065f46',fontSize:'24px',display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(FaCar,{style:{marginRight:'10px'}}),\"Admin Dashboard\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/manage-cars'),style:{backgroundColor:'#065f46',color:'#fff',padding:'10px 20px',borderRadius:'6px',border:'none',fontWeight:'bold',display:'flex',alignItems:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsx(FaPlusCircle,{style:{marginRight:'8px'}}),\"Manage Cars\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{backgroundColor:'#dc2626',color:'#fff',padding:'10px 16px',borderRadius:'6px',border:'none',fontWeight:'bold',cursor:'pointer'},children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{style:{color:'#333',fontSize:'16px',fontFamily:'Poppins, sans-serif',lineHeight:'1.6'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{style:{fontSize:'18px',color:'#065f46'},children:\"Welcome back, Automike\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Use the dashboard to:\"]}),/*#__PURE__*/_jsxs(\"ul\",{style:{marginTop:'10px',paddingLeft:'20px'},children:[/*#__PURE__*/_jsx(\"li\",{children:\"Upload new cars\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Edit current listings\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Remove sold vehicles\"})]})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FaCar","FaPlusCircle","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","navigate","isAuthorized","setIsAuthorized","token","localStorage","getItem","post","then","res","data","valid","catch","handleLogout","removeItem","className","style","fontFamily","maxWidth","margin","padding","backgroundColor","borderRadius","boxShadow","children","display","alignItems","justifyContent","marginBottom","color","fontSize","marginRight","gap","onClick","border","fontWeight","cursor","lineHeight","marginTop","paddingLeft"],"sources":["C:/Users/Mikelmarz/Desktop/mikeautomotors/client/src/pages/Dashboard.js"],"sourcesContent":["// Updated Admin Login + Security Setup\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FaCar, FaPlusCircle } from 'react-icons/fa';\r\nimport axios from 'axios';\r\n\r\nfunction Dashboard() {\r\n  const navigate = useNavigate();\r\n  const [isAuthorized, setIsAuthorized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('adminToken');\r\n    if (!token) {\r\n      navigate('/admin-login');\r\n    } else {\r\n      // Optional: validate token with backend\r\n      axios\r\n        .post('http://localhost:5000/api/admin/verify', { token })\r\n        .then((res) => {\r\n          if (res.data.valid) setIsAuthorized(true);\r\n          else navigate('/admin-login');\r\n        })\r\n        .catch(() => navigate('/admin-login'));\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('adminToken');\r\n    navigate('/admin-login');\r\n  };\r\n\r\n  if (!isAuthorized) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"dashboard\"\r\n      style={{\r\n        fontFamily: 'Poppins, sans-serif',\r\n        maxWidth: '1000px',\r\n        margin: '40px auto',\r\n        padding: '2rem',\r\n        backgroundColor: '#f9f9f9',\r\n        borderRadius: '10px',\r\n        boxShadow: '0 0 20px rgba(0,0,0,0.1)',\r\n      }}\r\n    >\r\n      <header\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          marginBottom: '30px',\r\n        }}\r\n      >\r\n        <h2\r\n          style={{\r\n            color: '#065f46',\r\n            fontSize: '24px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <FaCar style={{ marginRight: '10px' }} />\r\n          Admin Dashboard\r\n        </h2>\r\n\r\n        <div style={{ display: 'flex', gap: '1rem' }}>\r\n          <button\r\n            onClick={() => navigate('/manage-cars')}\r\n            style={{\r\n              backgroundColor: '#065f46',\r\n              color: '#fff',\r\n              padding: '10px 20px',\r\n              borderRadius: '6px',\r\n              border: 'none',\r\n              fontWeight: 'bold',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              cursor: 'pointer',\r\n            }}\r\n          >\r\n            <FaPlusCircle style={{ marginRight: '8px' }} />\r\n            Manage Cars\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleLogout}\r\n            style={{\r\n              backgroundColor: '#dc2626',\r\n              color: '#fff',\r\n              padding: '10px 16px',\r\n              borderRadius: '6px',\r\n              border: 'none',\r\n              fontWeight: 'bold',\r\n              cursor: 'pointer',\r\n            }}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <section\r\n        style={{\r\n          color: '#333',\r\n          fontSize: '16px',\r\n          fontFamily: 'Poppins, sans-serif',\r\n          lineHeight: '1.6',\r\n        }}\r\n      >\r\n        <p>\r\n          <strong style={{ fontSize: '18px', color: '#065f46' }}>\r\n            Welcome back, Automike\r\n          </strong>\r\n          <br />\r\n          Use the dashboard to:\r\n           </p>\r\n          <ul style={{ marginTop: '10px', paddingLeft: '20px' }}>\r\n            <li>Upload new cars</li>\r\n            <li>Edit current listings</li>\r\n            <li>Remove sold vehicles</li>\r\n          </ul>\r\n       \r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}